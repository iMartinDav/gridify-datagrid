#!/bin/sh

# Include Husky script
. "$(dirname "$0")/_/husky.sh"

# Echo a message indicating the actions being performed
echo 'ğŸš€ğŸ‘¨ğŸ»â€ğŸ’»ğŸ‰ Initiating the styling, testing, and building of your project before committing...ğŸ‘¨ğŸ»â€ğŸ’»ğŸ‰'

# Check Prettier standards
npm run check-format || {
    echo 'ğŸ¨ğŸš« Prettier Check Failed! ğŸ˜±ğŸ’”
            Your code styling does not meet the standards. Please run `npm run format`, add the changes, and let\'s try that commit again, shall we?'
    false
}

# Check ESLint Standards
npm run check-lint || {
    echo 'ğŸ”ğŸš¨ Oh no, ESLint found some issues!ğŸ˜°ğŸ’¥
                Let\'s fix these reported issues, add the changes, and try that commit again.'
    false
}

# Check tsconfig standards
npm run check-types || {
    echo 'ğŸ¤–âŒ Oops! Type check failed!
            Let\'s fix the type errors reported above and try again.ğŸ˜“ğŸ’¡'
    false
}

# If everything passes, try to build
echo 'ğŸ‘ŒğŸ»ğŸ”¨ Code looks good! Initiating build...ğŸ¤”ğŸ’ªğŸ»'

npm run build || {
    echo 'ğŸ—ï¸ğŸ˜ Build failed! ğŸ˜­ğŸ’”
            Let\'s check the errors above and fix those build issues, shall we?'
    false
}

# If everything passes, commit
echo 'âœ…ğŸ‰ Everything looks fantastic! You are all set to commit!ğŸ¥³ğŸˆğŸ’š'
